.\" Automatically generated by Pandoc 1.19.1
.\"
.TH "DWALK" "1" "" "" ""
.hy
.SH NAME
.PP
dwalk \- distributed walk and list
.SH SYNOPSIS
.PP
Parallel MPI application to recursively walk and list contents in a
directory.
.PP
dwalk provides functionality similar to ls and du.
Like du, the tool report a summary of the total number of files and
bytes.
Like ls, the tool sorts and prints information about individual files.
.PP
dwalk can walk a file tree in parallel with various different options.
You can sort the output of the distributed file walk based on different
fields (i.e name, use, group, size, etc), or get a file list
distribution that will put the amount of files you have of a certain
size into bins specified by the user.
For instance, if you wanted to know how many files in a large directory
have 0 bytes then you would use the \-\-distribution option.
.PP
It can save the list to a file or read input from a previously saved
file.
The file must be generated or read by a tool in the mpiFileUtils suite.
.SH DESCRIPTION
.SH OPTIONS
.TP
.B \-i, \-\-input 
Read source list of inputs from a file.
FILE must be generated by another tool from the mpiFileUtils suite.
.RS
.RE
.TP
.B \-o, \-\-output 
Write the processed list to a file.
.RS
.RE
.TP
.B \-l, \-\-lite
Walk file system without stat.
.RS
.RE
.TP
.B \-s, \-\-sort 
Sort output by comma\-delimited fields.
.RS
.RE
.TP
.B \-d, \-\-distribution :.
Print the file distribution by field.
So, for the size field you could do size:0,80,100 which would then tell
you how many files from the directory and/or subdirectories you pass in
are between 0\-0 bytes, 1\-80 bytes, 81\-99 bytes, and 100 \- MAX file
size bytes.
.RS
.RE
.TP
.B \-p, \-\-print
Print files to the screen.
.RS
.RE
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.RS
.RE
.TP
.B \-h, \-\-help
Print usage.
.RS
.RE
.SH SORT FIELDS
.PP
By default, the list of files dwalk captures is not sorted.
To sort the list, one or more fields can be specified in a
comma\-delimited list:
.PP
name,user,group,uid,gid,atime,mtime,ctime,size
.PP
A field name can be preceded with \[aq]\-\[aq] to sort in reverse order.
.SH EXAMPLES
.IP "1." 3
To print summary information for a directory:
.PP
mpirun \-np 128 dwalk \-v /dir/to/walk
.IP "2." 3
To print a list of files, sorted by file size, then by file name:
.PP
mpirun \-np 128 dwalk \-\-print \-\-sort size,name /dir/to/walk
.IP "3." 3
To save the list of files:
.PP
mpirun \-np 128 dwalk \-\-output out.dwalk /dir/to/walk
.IP "4." 3
Print the file distribution for specified histogram based on the size
field from the top level directory.
.PP
mpirun \-np 128 dwalk \-v \-\-print \-d size:0,20,1G src/
.SH SEE ALSO
.PP
\f[C]dchmod\f[] (1).
\f[C]dcmp\f[] (1).
\f[C]dcp\f[] (1).
\f[C]drm\f[] (1).
.PP
The mpiFileUtils source code and all documentation may be downloaded
from <https://github.com/hpc/mpifileutils>
